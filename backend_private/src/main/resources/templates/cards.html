<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cards</title>
    <link th:href="@{/css/custom.css}" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css"/>
    <link rel="stylesheet" href="https://cdn.datatables.net/select/1.3.3/css/select.dataTables.min.css"/>
</head>
<body>
<div th:insert="shared/header :: header"/>
<main class="mt-5 pt-5 mx-auto w-75">
    <div id="Cards">
    <h3 class="mt-5">Cartas</h3>
    <table id="card_table" class="display" style="width:100%">
        <thead class="thead-dark">
            <th scope="row">Id</th>
            <th scope="row">Name</th>
            <th scope="row">img</th>
            <th scope="row">Usa Imagen</th>
            <th scope="row">Visible</th>
            <th scope="row"></th>
            <th scope="row"></th>
        </thead>
        <tbody>
        <tr th:each="carta : ${cartas}">
            <td th:text="${carta.id_carta}"></td>
            <td th:text="${carta.nombre}"></td>
            <td th:text="${carta.url_img}"></td>
            <td th:switch="${carta.usa_img}">
                <input th:case="false" id="i_invisible" type="checkbox" class="form-check-input"/>
                <input th:case="true" id="i_visible" type="checkbox" class="form-check-input"/>
            </td>
            <td th:switch="${carta.visible}">
                <input th:case="false" id="c_invisible" type="checkbox" class="form-check-input"/>
                <input th:case="true" id="c_visible" type="checkbox" class="form-check-input"/>
            </td>
            <td><button class="" th:onclick="'javascript:editar_carta(' + ${carta.id_carta} + ')'">Editar</button></td>
        </tr>
        </tbody>
    </table>
    <button class="btn btn-primary mt-2">Create Card</button>
    </div>

    <div id="categoria">

    </div>

    <div id="platos">

    </div>

    <div id="alergenos">

    </div>

    <div id="ingredientes">

    </div>

</main>

    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
    <script th:src="@{/js/jquery-3.6.0.min.js}"></script>
    <script th:src="@{/js/header.js}"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.3.3/js/dataTables.select.min.js"></script>

    <script>
        $(document).ready(function() {

            var card_table = $('#card_table').DataTable({
                select: {
                    style: 'single'
                }
            });

            /* var category_table = $('#category_table').DataTable({
                select: {
                    style: 'single'
                }
            });*/

            card_table.on('select', function () {
                var id = card_table.row( { selected: true } ).data()[0];
                $.ajax("url");
            });

            $('#c_visible').prop("checked", true);
            $('#i_visible').prop("checked", true);

        });

            function editar_carta(){

            }

            $('#c_invisible').change(function(){
                $('#c_visible').prop("checked", false).attr("id","c_invisible");
                $(this).attr("id","c_visible").prop("checked", true);
            });
    </script>
</body>
</html>